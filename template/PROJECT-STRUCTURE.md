# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

è¿™æ˜¯ä¸€ä¸ªåŸºäº **Semi UI** è®¾è®¡çš„ç°ä»£åŒ– React åº”ç”¨ï¼Œé‡‡ç”¨ **Context + useReducer** çŠ¶æ€ç®¡ç†æ¶æ„ï¼Œæ”¯æŒä¸»é¢˜åˆ‡æ¢å’Œæœ¬åœ°å­˜å‚¨ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
root-semi/
â”œâ”€â”€ public/                    # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.tsx   # ä¸»å¸ƒå±€ï¼ˆå¯¼èˆªã€å¤´éƒ¨ã€å†…å®¹åŒºï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ Layout.module.scss # å¸ƒå±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ Loading/         # åŠ è½½ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading.tsx  # è‡ªå®šä¹‰Loadingç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ Loading.css  # åŠ è½½æ ·å¼
â”‚   â”‚   â”œâ”€â”€ StateDemo/       # çŠ¶æ€ç®¡ç†æ¼”ç¤ºç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ StateDemo.tsx # å®Œæ•´çš„çŠ¶æ€ç®¡ç†ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ ApiDemo/         # æ¥å£å°è£…æ¼”ç¤ºç»„ä»¶
â”‚   â”‚       â””â”€â”€ ApiDemo.tsx  # HTTPè¯·æ±‚å°è£…æ¼”ç¤º
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home/           # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx    # é¦–é¡µç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ Home.css    # é¦–é¡µæ ·å¼
â”‚   â”‚   â”œâ”€â”€ About/          # å…³äºé¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ About.tsx   # å…³äºç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ About.css   # å…³äºæ ·å¼
â”‚   â”‚   â”œâ”€â”€ StateManagement/ # çŠ¶æ€ç®¡ç†æ¼”ç¤ºé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ StateManagement.tsx # çŠ¶æ€ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ StateManagement.css # é¡µé¢æ ·å¼
â”‚   â”‚   â””â”€â”€ ApiDemo/         # æ¥å£å°è£…æ¼”ç¤ºé¡µ
â”‚   â”‚       â”œâ”€â”€ ApiDemo.tsx  # APIæ¼”ç¤ºé¡µé¢
â”‚   â”‚       â””â”€â”€ ApiDemo.css  # é¡µé¢æ ·å¼
â”‚   â”œâ”€â”€ contexts/            # ContextçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ AppContext.tsx  # å…¨å±€çŠ¶æ€ç®¡ç†ï¼ˆç”¨æˆ·ã€UIã€åº”ç”¨çŠ¶æ€ï¼‰
â”‚   â”œâ”€â”€ services/           # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ api.ts          # APIæœåŠ¡å°è£…ï¼ˆç”¨æˆ·ã€ç³»ç»Ÿã€æ–‡ä»¶æœåŠ¡ï¼‰
â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ routes.ts       # è·¯ç”±é…ç½®ï¼ˆJSONåŒ–è·¯ç”±ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useLocalStorage.ts # æœ¬åœ°å­˜å‚¨Hook
â”‚   â”‚   â””â”€â”€ useTheme.ts     # ä¸»é¢˜åˆ‡æ¢Hook
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ constants.ts    # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ request.ts      # HTTPè¯·æ±‚å°è£…ï¼ˆæ‹¦æˆªå™¨ã€é‡è¯•ã€é”™è¯¯å¤„ç†ï¼‰
â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts        # é€šç”¨ç±»å‹
â”‚   â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ reset.css       # CSSé‡ç½®æ ·å¼
â”‚   â”œâ”€â”€ App.tsx             # æ ¹ç»„ä»¶ï¼ˆProvideré›†æˆï¼‰
â”‚   â”œâ”€â”€ main.tsx            # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ index.css           # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ env.d.ts            # ç¯å¢ƒå˜é‡ç±»å‹å®šä¹‰
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts          # Vite æ„å»ºé…ç½®
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
â””â”€â”€ PROJECT-STRUCTURE.md    # é¡¹ç›®ç»“æ„æ–‡æ¡£
```

## ğŸ§­ å¯¼èˆªæ¶æ„è®¾è®¡

### ä¸»å¯¼èˆªç»“æ„

```
â”œâ”€â”€ é¦–é¡µ (/)                 # æ¬¢è¿é¡µé¢ï¼Œå±•ç¤ºé¡¹ç›®ç‰¹æ€§
â”œâ”€â”€ å…³äº (/about)            # é¡¹ç›®ä¿¡æ¯ï¼ŒæŠ€æœ¯æ ˆä»‹ç»
â”œâ”€â”€ çŠ¶æ€ç®¡ç† (/state)        # Context + useReducer æ¼”ç¤º
â””â”€â”€ æ¥å£å°è£… (/api)          # HTTPè¯·æ±‚å°è£…æ¼”ç¤º
```

### æ¶æ„ç‰¹ç‚¹

1. **åŠŸèƒ½å®Œæ•´**ï¼šå››ä¸ªæ ¸å¿ƒé¡µé¢ï¼Œæ¶µç›–ç°ä»£ React åº”ç”¨æ ¸å¿ƒåŠŸèƒ½
2. **çŠ¶æ€é©±åŠ¨**ï¼šå®Œæ•´çš„ Context + useReducer æ¼”ç¤º
3. **æ¥å£å°è£…**ï¼šç”Ÿäº§çº§ HTTP è¯·æ±‚å°è£…ï¼Œæ”¯æŒæ‹¦æˆªå™¨ã€é‡è¯•ã€é”™è¯¯å¤„ç†
4. **ä¸»é¢˜ä¸€è‡´**ï¼šå…¨å±€ä¸»é¢˜åˆ‡æ¢ï¼Œæœ¬åœ°å­˜å‚¨
5. **JSON é…ç½®åŒ–**ï¼šè·¯ç”±é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†
6. **ç”Ÿäº§ä¼˜åŒ–**ï¼šè‡ªåŠ¨å»é™¤ console è­¦å‘Šï¼Œæ€§èƒ½ä¼˜åŒ–

## ğŸ¨ é¡µé¢åŠŸèƒ½è¯´æ˜

### æ ¸å¿ƒé¡µé¢

| é¡µé¢     | è·¯å¾„     | åŠŸèƒ½æè¿°                      |
| -------- | -------- | ----------------------------- |
| é¦–é¡µ     | `/`      | åº”ç”¨ä»‹ç»ï¼Œæ ¸å¿ƒç‰¹æ€§å±•ç¤º        |
| å…³äº     | `/about` | é¡¹ç›®ä¿¡æ¯ï¼ŒæŠ€æœ¯æ ˆä»‹ç»          |
| çŠ¶æ€ç®¡ç† | `/state` | Context + useReducer å®Œæ•´æ¼”ç¤º |
| æ¥å£å°è£… | `/api`   | HTTP è¯·æ±‚å°è£…åŠŸèƒ½æ¼”ç¤º         |

### åŠŸèƒ½ç‰¹è‰²

- **çŠ¶æ€ç®¡ç†æ¼”ç¤º**ï¼šå®Œæ•´çš„ Context + useReducer æ¶æ„å±•ç¤º
- **æ¥å£å°è£…æ¼”ç¤º**ï¼šHTTP è¯·æ±‚ã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€é”™è¯¯å¤„ç†ç­‰å®Œæ•´æ¼”ç¤º
- **ä¸»é¢˜åˆ‡æ¢**ï¼šæ”¯æŒæ˜æš—ä¸»é¢˜åŠ¨æ€åˆ‡æ¢ï¼Œæœ¬åœ°å­˜å‚¨
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **ç”¨æˆ·èœå•**ï¼šä¾¿æ·çš„ä¸ªäººæ“ä½œå…¥å£
- **åŠ è½½ä¼˜åŒ–**ï¼šè‡ªå®šä¹‰ Loading ç»„ä»¶ï¼Œé¿å… findDOMNode è­¦å‘Š
- **è·¯ç”±é…ç½®åŒ–**ï¼šJSON æ ¼å¼çš„è·¯ç”±ç®¡ç†
- **ç”Ÿäº§ä¼˜åŒ–**ï¼šè‡ªåŠ¨å»é™¤æ§åˆ¶å°è­¦å‘Šï¼Œæå‡ç”¨æˆ·ä½“éªŒ

## ğŸ”§ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šReact 18 + TypeScript
- **UI åº“**ï¼š@douyinfe/semi-ui + @douyinfe/semi-icons
- **çŠ¶æ€ç®¡ç†**ï¼šContext + useReducer
- **è·¯ç”±**ï¼šReact Router v6
- **æ„å»º**ï¼šVite
- **æ ·å¼**ï¼šSCSS + CSS Variables
- **ä»£ç è§„èŒƒ**ï¼šESLint + TypeScript

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **å®‰è£…ä¾èµ–**

   ```bash
   pnpm install
   ```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

   ```bash
   pnpm dev
   ```

3. **è®¿é—®åº”ç”¨**
   ```
   http://localhost:3001
   ```

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages/` ä¸‹åˆ›å»ºé¡µé¢ç›®å½•
2. åˆ›å»º `.tsx` å’Œ `.css` æ–‡ä»¶
3. åœ¨ `src/config/routes.ts` ä¸­æ·»åŠ è·¯ç”±é…ç½®
4. é¡µé¢ä¼šè‡ªåŠ¨å‡ºç°åœ¨å¯¼èˆªèœå•ä¸­

### çŠ¶æ€ç®¡ç†

ä½¿ç”¨é¡¹ç›®å†…ç½®çš„ Context + useReducer æ¶æ„ï¼š

```typescript
// è·å–å…¨å±€çŠ¶æ€
import { useUser, useTheme, useUI } from "@/contexts/AppContext";

function MyComponent() {
  const { user, login, logout } = useUser();
  const { isDark, toggleMode } = useTheme();
  const { ui, setLoading } = useUI();

  return (
    <div>
      <p>ç”¨æˆ·: {user.name}</p>
      <button onClick={toggleMode}>åˆ‡æ¢ä¸»é¢˜</button>
    </div>
  );
}
```

### ä¸»é¢˜åˆ‡æ¢

ä¸»é¢˜è®¾ç½®è‡ªåŠ¨ä¿å­˜åˆ° localStorageï¼š

```typescript
// ä½¿ç”¨ä¸»é¢˜Hook
const { isDark, mode, toggleMode, setMode } = useTheme();

// ä¸»é¢˜ä¼šè‡ªåŠ¨ä¿å­˜åˆ° localStorage
toggleMode(); // åˆ‡æ¢ä¸»é¢˜
setMode("dark"); // è®¾ç½®ä¸ºæ·±è‰²æ¨¡å¼
```

### æ¥å£è°ƒç”¨

ä½¿ç”¨å°è£…å¥½çš„æœåŠ¡å±‚è¿›è¡Œ API è°ƒç”¨ï¼š

```typescript
import { UserService, SystemService, FileService } from "@/services/api";

// ç”¨æˆ·ç›¸å…³æ“ä½œ
const loginResponse = await UserService.login({
  email: "user@example.com",
  password: "password123",
});

const userProfile = await UserService.getCurrentUser();

// ç³»ç»ŸæœåŠ¡
const healthStatus = await SystemService.healthCheck();
const statistics = await SystemService.getStatistics();

// æ–‡ä»¶æœåŠ¡
const uploadResult = await FileService.uploadFile(file, "image");
await FileService.downloadFile("/path/to/file", "filename.pdf");

// è‡ªå®šä¹‰è¯·æ±‚é…ç½®
import { request } from "@/utils/request";

const response = await request.post("/api/custom", data, {
  timeout: 30000, // 30ç§’è¶…æ—¶
  retryCount: 3, // é‡è¯•3æ¬¡
  showLoading: true, // æ˜¾ç¤ºloading
  showError: false, // ä¸æ˜¾ç¤ºé”™è¯¯æç¤º
});
```

## ğŸ¯ è®¾è®¡äº®ç‚¹

- âœ… **å®Œæ•´çš„çŠ¶æ€ç®¡ç†**ï¼šContext + useReducer æœ€ä½³å®è·µæ¼”ç¤º
- âœ… **ç”Ÿäº§çº§æ¥å£å°è£…**ï¼šHTTP è¯·æ±‚æ‹¦æˆªå™¨ã€é‡è¯•æœºåˆ¶ã€é”™è¯¯å¤„ç†
- âœ… **ä¸»é¢˜æœ¬åœ°å­˜å‚¨**ï¼šSemi UI å®˜æ–¹ä¸»é¢˜åˆ‡æ¢æ–¹æ¡ˆ
- âœ… **ç°ä»£åŒ– UI**ï¼šåŸºäº Semi UI è®¾è®¡ç³»ç»Ÿ
- âœ… **å®Œæ•´çš„ TypeScript æ”¯æŒ**ï¼šç±»å‹å®‰å…¨ä¿éšœ
- âœ… **é…ç½®åŒ–è·¯ç”±**ï¼šJSON æ ¼å¼è·¯ç”±ç®¡ç†ï¼Œæ˜“äºç»´æŠ¤
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šè‡ªå®šä¹‰ Loading ç»„ä»¶ï¼Œè§£å†³ findDOMNode è­¦å‘Š
- âœ… **ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–**ï¼šè‡ªåŠ¨å»é™¤ console è­¦å‘Šï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- âœ… **æœåŠ¡å±‚æ¶æ„**ï¼šæŒ‰ä¸šåŠ¡æ¨¡å—ç»„ç»‡ API æ¥å£ï¼Œä¾¿äºç»´æŠ¤
- âœ… **ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ**ï¼šå“åº”å¼è®¾è®¡ + æ— ç¼ä¸»é¢˜åˆ‡æ¢

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†ç°ä»£ React åº”ç”¨çš„å®Œæ•´æ¶æ„ï¼Œæ¶µç›–äº†çŠ¶æ€ç®¡ç†ã€æ¥å£å°è£…ã€ä¸»é¢˜åˆ‡æ¢ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œç‰¹åˆ«é€‚åˆå­¦ä¹ ç°ä»£å‰ç«¯å¼€å‘æœ€ä½³å®è·µã€‚
